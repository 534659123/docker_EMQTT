##-------------------------------------------------------------------------
## Name of the emqttd node: Name@Host
##
## NOTICE: The Host should be IP address or the fully qualified host name. 需要完全合格域名
##         The short hostname cannot work! 端主机名不能工作
##-------------------------------------------------------------------------

-name emqttd@127.0.0.1
# or
#-name emqttd@localhost.



##------------------------------------------------------------------------
##Erlang/OTP平台应用多由分布的Erlang节点(进程)组成，每个Erlang节点(进程)需指配一个节点名，
##用于节点间通信互访。 所有互相通信的Erlang节点(进程)间通过一个共用的Cookie进行安全认证。
##------------------------------------------------------------------------

## Cookie for distributed erlang  设置Erlang节点名、节点间通信Cookie:
-setcookie emqttdsecretcookie

##-------------------------------------------------------------------------
## Flags 旗帜
##-------------------------------------------------------------------------

## 心跳管理，如果虚拟机无响应自动重启
## (默认禁用..谨慎使用!)
##-heart

-smp true

## 启用核心轮询和异步线程
+K true

## 12 线程/核心.
##+A 48   原始配置
+A 12

## Erlang虚拟机允许的最大进程数，一个MQTT连接会消耗2个Erlang进程，所以参数值 > 最大连接数 * 2
+P 8192

## Erlang虚拟机允许的最大Port数量，一个MQTT连接消耗1个Port，所以参数值 > 最大连接数
+Q 8192

## max atom number
## +t

## Set the distribution buffer busy limit (dist_buf_busy_limit) in kilobytes.
## Valid range is 1-2097151. Default is 1024.
## +zdbbl 8192

## Set scheduler bind type.
## +sbt db

##-------------------------------------------------------------------------
## Env
##-------------------------------------------------------------------------

## Increase number of concurrent ports/sockets, deprecated in R17
-env ERL_MAX_PORTS 8192

-env ERTS_MAX_PORTS 8192

## Mnesia and SSL will create temporary ets tables.
-env ERL_MAX_ETS_TABLES 1024

## Tweak GC to run more often
-env ERL_FULLSWEEP_AFTER 1000

-env ERL_CRASH_DUMP log/emqttd_crash.dump
